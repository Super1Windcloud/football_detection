# åŸºäº YOLOv8 çš„è¶³çƒåˆ†æç³»ç»Ÿ

æœ¬é¡¹ç›®åˆ©ç”¨ [Ultralytics YOLOv8](https://github.com/ultralytics/ultralytics) æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼Œå®ç°å¯¹è¶³çƒæ¯”èµ›è§†é¢‘æˆ–å›¾åƒä¸­çš„å…³é”®å…ƒç´ è¿›è¡Œæ£€æµ‹å’Œåˆ†æã€‚

## ğŸŒŸ ä¸»è¦åŠŸèƒ½

- **çƒåœºæ£€æµ‹**: è¯†åˆ«è¶³çƒåœºçš„å…³é”®å‡ ä½•ç‚¹ï¼ˆå¦‚è§’ç‚¹ã€çƒé—¨åŒºåŸŸç­‰ï¼‰ï¼Œç”¨äºåç»­çš„åœºåœ°é‡å»ºå’Œæˆ˜æœ¯åˆ†æ
- **çƒå‘˜æ£€æµ‹**: å®æ—¶æ£€æµ‹å’Œè¯†åˆ«åœºä¸Šçš„æ‰€æœ‰çƒå‘˜
- **è¶³çƒæ£€æµ‹**: ç²¾ç¡®è·Ÿè¸ªè¶³çƒåœ¨åœºä¸Šçš„ä½ç½®
- **çƒå‘˜è¿½è¸ª**: è·¨å¸§è¿½è¸ªçƒå‘˜çš„ç§»åŠ¨è½¨è¿¹
- **é˜Ÿä¼åˆ†ç±»**: è‡ªåŠ¨è¯†åˆ«ä¸åŒé˜Ÿä¼çš„çƒå‘˜
- **é›·è¾¾è§†å›¾**: ç”Ÿæˆæˆ˜æœ¯åˆ†æçš„é›·è¾¾å›¾

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **Python 3.12+**
- **uv**: ç°ä»£ Python åŒ…ç®¡ç†å™¨
- **PyTorch**: æ·±åº¦å­¦ä¹ æ¡†æ¶
- **Ultralytics YOLOv8**: ç”¨äºç›®æ ‡æ£€æµ‹å’Œå§¿æ€ä¼°è®¡çš„æ ¸å¿ƒæ¡†æ¶
- **Supervision**: è®¡ç®—æœºè§†è§‰å·¥å…·åº“
- **OpenCV**: å›¾åƒå¤„ç†
- **Just**: å‘½ä»¤è¿è¡Œå™¨

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

ç¡®ä¿æ‚¨å·²å®‰è£… [uv](https://docs.astral.sh/uv/) å’Œ [just](https://github.com/casey/just)ï¼š

```bash
# å®‰è£… uv (å¦‚æœå°šæœªå®‰è£…)
curl -LsSf https://astral.sh/uv/install.sh | sh

# å®‰è£… just (å¦‚æœå°šæœªå®‰è£…)
# Windows (ä½¿ç”¨ scoop)
scoop install just
# macOS (ä½¿ç”¨ homebrew)
brew install just
# æˆ–è€…ä½¿ç”¨ cargo
cargo install just
```

### 2. å…‹éš†ä»“åº“å¹¶å®‰è£…ä¾èµ–

```bash
cd football_detection
uv sync
```

### 3. è®¾ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶æˆ–è®¾ç½®ç¯å¢ƒå˜é‡ï¼š

```bash
# åˆ›å»º .env æ–‡ä»¶
echo "ROBOFLOW_API_KEY=YOUR_API_KEY" > .env
```

> **æ³¨æ„**: å°† `YOUR_API_KEY` æ›¿æ¢ä¸ºæ‚¨è‡ªå·±çš„ Roboflow API å¯†é’¥ã€‚

## ğŸ“¦ æ•°æ®é›†

æœ¬é¡¹ç›®ä½¿ç”¨çš„æ•°æ®é›†æ‰˜ç®¡åœ¨ Roboflow Universe ä¸Šã€‚å½“æ‚¨é¦–æ¬¡è¿è¡Œè®­ç»ƒè„šæœ¬æ—¶ï¼Œç¨‹åºä¼šè‡ªåŠ¨æ£€æŸ¥æœ¬åœ° `datasets` ç›®å½•ã€‚å¦‚æœæ•°æ®é›†ä¸å­˜åœ¨ï¼Œå®ƒå°†è‡ªåŠ¨ä»
Roboflow ä¸‹è½½ã€‚

- **çƒå‘˜æ£€æµ‹
  **: [football-players-detection](https://universe.roboflow.com/roboflow-jvuqo/football-players-detection-3zvbc)
- **è¶³çƒæ£€æµ‹**: [football-ball-detection](https://universe.roboflow.com/roboflow-jvuqo/football-ball-detection-rejhg)
- **çƒåœºæ£€æµ‹**: [football-field-detection](https://universe.roboflow.com/roboflow-jvuqo/football-field-detection-f07vi)

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

é¡¹ç›®ä½¿ç”¨ `just` å‘½ä»¤è¿è¡Œå™¨æ¥ç®€åŒ–æ“ä½œã€‚æ‰€æœ‰å‘½ä»¤éƒ½ä¼šè‡ªåŠ¨ä½¿ç”¨ `uv run` æ¥æ‰§è¡Œã€‚

### æ¨ç†æ¨¡å¼

#### çƒåœºæ£€æµ‹

```bash
just pitch
```

æ£€æµ‹è¶³çƒåœºå…³é”®ç‚¹ï¼Œè¾“å‡ºå¸¦æ ‡æ³¨çš„è§†é¢‘ã€‚

#### çƒå‘˜æ£€æµ‹

```bash
just player
```

æ£€æµ‹åœºä¸Šæ‰€æœ‰çƒå‘˜ä½ç½®ã€‚

#### è¶³çƒæ£€æµ‹

```bash
just ball
```

æ£€æµ‹å’Œè¿½è¸ªè¶³çƒä½ç½®ã€‚

#### çƒå‘˜è¿½è¸ª

```bash
just tracking
```

è·¨å¸§è¿½è¸ªçƒå‘˜ç§»åŠ¨è½¨è¿¹ã€‚

#### é˜Ÿä¼åˆ†ç±»

```bash
just team
```

è‡ªåŠ¨è¯†åˆ«ä¸åŒé˜Ÿä¼çš„çƒå‘˜ã€‚

#### é›·è¾¾è§†å›¾

```bash
just radar
```

ç”Ÿæˆæˆ˜æœ¯åˆ†æçš„é›·è¾¾å›¾ã€‚

### è®­ç»ƒæ¨¡å¼

#### è®­ç»ƒçƒå‘˜æ£€æµ‹æ¨¡å‹

```bash
just train_player
```

#### è®­ç»ƒè¶³çƒæ£€æµ‹æ¨¡å‹

```bash
just train_ball
```

#### è®­ç»ƒçƒåœºå…³é”®ç‚¹æ£€æµ‹æ¨¡å‹

```bash
just train_pitch
```

## ğŸ® è‡ªå®šä¹‰ä½¿ç”¨

æ‚¨ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ `uv run` æ¥æ‰§è¡Œè„šæœ¬ï¼š

```bash
# è‡ªå®šä¹‰è§†é¢‘è·¯å¾„å’Œå‚æ•°
uv run main.py --source_video_path your_video.mp4 \
               --target_video_path output.mp4 \
               --device cuda \
               --mode PLAYER_DETECTION

# è¿è¡Œæ¼”ç¤ºè„šæœ¬
uv run demo.py
```

## ğŸ“Š æ¨¡å‹è®­ç»ƒ

è®­ç»ƒç»“æœï¼ˆåŒ…æ‹¬æƒé‡æ–‡ä»¶å’Œå¯è§†åŒ–å›¾è¡¨ï¼‰å°†ä¿å­˜åœ¨ `runs/` ç›®å½•ä¸‹ï¼š

- **çƒå‘˜æ£€æµ‹æ¨¡å‹**: `runs/player/detect/train/`
- **è¶³çƒæ£€æµ‹æ¨¡å‹**: `runs/ball/detect/train/`
- **çƒåœºå…³é”®ç‚¹æ£€æµ‹æ¨¡å‹**: `runs/pitch/pose/train/`

è®­ç»ƒå®Œæˆåï¼Œè„šæœ¬ä¼šè‡ªåŠ¨éªŒè¯æ¨¡å‹æ€§èƒ½ï¼Œå¹¶å°†è®­ç»ƒè¿‡ç¨‹ä¸­çš„å›¾è¡¨ï¼ˆå¦‚ `results.png`ã€`confusion_matrix.png`ï¼‰å’Œé¢„æµ‹ç¤ºä¾‹ä¿å­˜åœ¨å¯¹åº”çš„ç»“æœç›®å½•ä¸­ã€‚

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºã€‚
